<html>
  <head>
    
    <script type="text/javascript" src="https://js.live.net/v7.0/OneDrive.js"></script>
    
      <script type="text/javascript">
       
        var openfile= function(event){

             var input= event.target;
             var reader=new FileReader();

              var launchSaveToOneDrive= function (dataURL){
                       console.log("2");
                      var odOptions = {
                          clientId: "1fd8b6bd-4585-4491-a802-7bc9f0fde5da",
                          action: "save",
                        //  sourceInputElementId: "fileUploadControl",
                          sourceUri: dataURL,
                          fileName: "fil.txt",
                          openInNewWindow: true,
                          advanced: {},
                          success: function(files) { console.log('success');},
                          progress: function(p) { console.log("2"); },
                          cancel: function() {console.log("3"); },
                          error: function(e) { console/log("4"); }
                        }
                        console.log("3");
                      OneDrive.save(odOptions);
                    };


              reader.onload= function() {
                launchSaveToOneDrive(reader.result);
                console.log("1");
              }
              reader.readAsDataURL(input.files[0]);
        }
</script>
</head>
<body>
    <input id="fileUploadControl" name="fileUploadControl" type="file" onchange="openfile(event)" />
    <button >Save to OneDrive</button>
</body>
</html>